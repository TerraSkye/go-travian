<h1>
    Map (<span id="x">{{ .Coordinate.X}}</span>|<span id="y">{{ .Coordinate.Y}}</span>)
</h1>

<div id="map">
    <script type="text/javascript">
        var text_k = {}
        text_k.details = 'Details';
        text_k.spieler = 'Player';
        text_k.einwohner = 'Population';
        text_k.allianz = 'Alliance';
        text_k.verlassenes_tal = 'Abandoned valley';
        text_k.besetztes_tal = 'Occupied oasis';
        text_k.freie_oase = 'Unoccupied oasis';
        var text_x = {}
        text_x.r1 = 'Lumber';
        text_x.r2 = 'Clay';
        text_x.r3 = 'Iron';
        text_x.r4 = 'Crop';
    </script>
    <div id="map_content">
        {{range $XCoordinate,$XAxis := .Tiles}}
            {{range $YCoordinate,$Tile := $XAxis}}
                <div id="i_{{  $XCoordinate }}_{{ $YCoordinate }}" class="{{ $Tile.Image}}"></div>
            {{end}}
        {{end}}
    </div>
    <div id="map_rulers">
        <div id="mx0"> {{with $tile := index .Tiles 0 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my0">{{with $tile := index .Tiles 0 0 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx1">{{with $tile := index .Tiles 1 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my1">{{with $tile := index .Tiles 0 1 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx2">{{with $tile := index .Tiles 2 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my2">{{with $tile := index .Tiles 0 2 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx3">{{with $tile := index .Tiles 3 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my3">{{with $tile := index .Tiles 0 3 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx4">{{with $tile := index .Tiles 4 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my4">{{with $tile := index .Tiles 0 4 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx5">{{with $tile := index .Tiles 5 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my5">{{with $tile := index .Tiles 0 5 }}{{ $tile.Coordinate.Y}} {{end}}</div>
        <div id="mx6">{{with $tile := index .Tiles 6 0 }}{{ $tile.Coordinate.X}} {{end}}</div>
        <div id="my6">{{with $tile := index .Tiles 0 6 }}{{ $tile.Coordinate.Y}} {{end}}</div>
    </div>

    <map id="map_overlay" name="map_overlay">
        {{with $tile := index .Tiles 0 0 }}
            <area id="a_0_0" shape="poly" coords="53, 137, 90, 157, 53, 177, 16, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 1 }}
            <area id="a_0_1" shape="poly" coords="89, 117, 126, 137, 89, 157, 52, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 2 }}
            <area id="a_0_2" shape="poly" coords="125, 97, 162, 117, 125, 137, 88, 117" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 3 }}
            <area id="a_0_3" shape="poly" coords="161, 77, 198, 97, 161, 117, 124, 97" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 4 }}
            <area id="a_0_4" shape="poly" coords="197, 57, 234, 77, 197, 97, 160, 77" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 5 }}
            <area id="a_0_5" shape="poly" coords="233, 37, 270, 57, 233, 77, 196, 57" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 0 6 }}
            <area id="a_0_6" shape="poly" coords="269, 17, 306, 37, 269, 57, 232, 37" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 0 }}
            <area id="a_1_0" shape="poly" coords="90, 157, 127, 177, 90, 197, 53, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 1 }}
            <area id="a_1_1" shape="poly" coords="126, 137, 163, 157, 126, 177, 89, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 2 }}
            <area id="a_1_2" shape="poly" coords="162, 117, 199, 137, 162, 157, 125, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 3 }}
            <area id="a_1_3" shape="poly" coords="198, 97, 235, 117, 198, 137, 161, 117" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 4 }}
            <area id="a_1_4" shape="poly" coords="234, 77, 271, 97, 234, 117, 197, 97" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 5 }}
            <area id="a_1_5" shape="poly" coords="270, 57, 307, 77, 270, 97, 233, 77" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 1 6 }}
            <area id="a_1_6" shape="poly" coords="306, 37, 343, 57, 306, 77, 269, 57" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 0 }}
            <area id="a_2_0" shape="poly" coords="127, 177, 164, 197, 127, 217, 90, 197" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 1 }}
            <area id="a_2_1" shape="poly" coords="163, 157, 200, 177, 163, 197, 126, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 2 }}
            <area id="a_2_2" shape="poly" coords="199, 137, 236, 157, 199, 177, 162, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 3 }}
            <area id="a_2_3" shape="poly" coords="235, 117, 272, 137, 235, 157, 198, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 4 }}
            <area id="a_2_4" shape="poly" coords="271, 97, 308, 117, 271, 137, 234, 117" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 5 }}
            <area id="a_2_5" shape="poly" coords="307, 77, 344, 97, 307, 117, 270, 97" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 2 6 }}
            <area id="a_2_6" shape="poly" coords="343, 57, 380, 77, 343, 97, 306, 77" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 0 }}
            <area id="a_3_0" shape="poly" coords="164, 197, 201, 217, 164, 237, 127, 217" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 1 }}
            <area id="a_3_1" shape="poly" coords="200, 177, 237, 197, 200, 217, 163, 197" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 2 }}
            <area id="a_3_2" shape="poly" coords="236, 157, 273, 177, 236, 197, 199, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 3 }}
            <area id="a_3_3" shape="poly" coords="272, 137, 309, 157, 272, 177, 235, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 4 }}
            <area id="a_3_4" shape="poly" coords="308, 117, 345, 137, 308, 157, 271, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 5 }}
            <area id="a_3_5" shape="poly" coords="344, 97, 381, 117, 344, 137, 307, 117" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 3 6 }}
            <area id="a_3_6" shape="poly" coords="380, 77, 417, 97, 380, 117, 343, 97" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 0 }}
            <area id="a_4_0" shape="poly" coords="201, 217, 238, 237, 201, 257, 164, 237" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 1 }}
            <area id="a_4_1" shape="poly" coords="237, 197, 274, 217, 237, 237, 200, 217" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 2 }}
            <area id="a_4_2" shape="poly" coords="273, 177, 310, 197, 273, 217, 236, 197" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 3 }}
            <area id="a_4_3" shape="poly" coords="309, 157, 346, 177, 309, 197, 272, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 4 }}
            <area id="a_4_4" shape="poly" coords="345, 137, 382, 157, 345, 177, 308, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 5 }}
            <area id="a_4_5" shape="poly" coords="381, 117, 418, 137, 381, 157, 344, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 4 6 }}
            <area id="a_4_6" shape="poly" coords="417, 97, 454, 117, 417, 137, 380, 117" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 0 }}
            <area id="a_5_0" shape="poly" coords="238, 237, 275, 257, 238, 277, 201, 257" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 1 }}
            <area id="a_5_1" shape="poly" coords="274, 217, 311, 237, 274, 257, 237, 237" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 2 }}
            <area id="a_5_2" shape="poly" coords="310, 197, 347, 217, 310, 237, 273, 217" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 3 }}
            <area id="a_5_3" shape="poly" coords="346, 177, 383, 197, 346, 217, 309, 197" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 4 }}
            <area id="a_5_4" shape="poly" coords="382, 157, 419, 177, 382, 197, 345, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 5 }}
            <area id="a_5_5" shape="poly" coords="418, 137, 455, 157, 418, 177, 381, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 5 6 }}
            <area id="a_5_6" shape="poly" coords="454, 117, 491, 137, 454, 157, 417, 137" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 0 }}
            <area id="a_6_0" shape="poly" coords="275, 257, 312, 277, 275, 297, 238, 277" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 1 }}
            <area id="a_6_1" shape="poly" coords="311, 237, 348, 257, 311, 277, 274, 257" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 2 }}
            <area id="a_6_2" shape="poly" coords="347, 217, 384, 237, 347, 257, 310, 237" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 3 }}
            <area id="a_6_3" shape="poly" coords="383, 197, 420, 217, 383, 237, 346, 217" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 4 }}
            <area id="a_6_4" shape="poly" coords="419, 177, 456, 197, 419, 217, 382, 197" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 5 }}
            <area id="a_6_5" shape="poly" coords="455, 157, 492, 177, 455, 197, 418, 177" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}
        {{with $tile := index .Tiles 6 6 }}
            <area id="a_6_6" shape="poly" coords="491, 137, 528, 157, 491, 177, 454, 157" title="{{ $tile.Id}}" href="karte.php?d={{ $tile.Id}}&amp;c=71">
        {{end}}

        <area id="ma_n1" href="karte.php?z={{ .Coordinate.North 1}}" coords="422,67,25" shape="circle" title="North">
        <area id="ma_n2" href="karte.php?z={{ .Coordinate.East 1}}" coords="427,254,25" shape="circle" title="East">
        <area id="ma_n3" href="karte.php?z={{ .Coordinate.South 1}}" coords="119,255,25" shape="circle" title="South">
        <area id="ma_n4" href="karte.php?z={{ .Coordinate.West 1}}" coords="114,63,25" shape="circle" title="West">

    </map>
    <img id="map_links" src="/assets/img/x.gif" usemap="#map_overlay">
    <script type="text/javascript">
        m_c.az = {
            // n1 => north 1 tile
            "n1": 34952,
            "n1p7": 33746, // north 7
            "n2": 35154,
            "n2p7": 35146,
            "n3": 35354,
            "n3p7": 36560,
            "n4": 35152,
            "n4p7": 35160
        };
        m_c.ad = [[[75, -77, 4, 0, "d=35753&c=71", "t1", ""]
            , [75, -76, 3, 0, "d=35552&c=c1", "t6", ""]
            , [75, -75, 0, 4, "d=35351&c=11", "o4", ""], [75, -74, 5, 0, "d=35150&c=2d", "t7", ""]
            , [75, -73, 5, 0, "d=34949&c=31", "t5", ""]
            , [75, -72, 5, 0, "d=34748&c=24", "t2", ""]
            , [75, -71, 0, 7, "d=34547&c=13", "o7", ""]],
            [[76, -77, 5, 0, "d=35754&c=a2", "t2", ""]
                , [76, -76, 3, 0, "d=35553&c=85", "t7", ""]
                , [76, -75, 9, 0, "d=35352&c=6f", "t3", ""]
                , [76, -74, 4, 0, "d=35151&c=46", "t7", ""]
                , [76, -73, 8, 0, "d=34950&c=4c", "t2", ""]
                , [76, -72, 3, 0, "d=34749&c=cc", "t5", ""]
                , [76, -71, 3, 0, "d=34548&c=db", "t7", ""]
            ],
            [[77, -77, 5, 0, "d=35755&c=27", "t0", ""]
                , [77, -76, 12, 0, "d=35554&c=5c", "t4", ""]
                , [77, -75, 0, 3, "d=35353&c=0f", "o3", ""], [77, -74, 0, 8, "d=35152&c=40", "o8", ""], [77, -73, 3, 0, "d=34951&c=09", "t6", ""]
                , [77, -72, 5, 0, "d=34750&c=c7", "t7", ""]
                , [77, -71, 0, 9, "d=34549&c=df", "o9", ""]],
            [[78, -77, 11, 0, "d=35756&c=0a", "t4", ""]
                , [78, -76, 12, 0, "d=35555&c=56", "t8", ""]
                , [78, -75, 5, 0, "d=35354&c=8e", "t6", ""]
                , [78, -74, 3, 0, "d=35153&c=c5", "b00", "", "test's village ", "test", "20", "", "1"]
                , [78, -73, 10, 0, "d=34952&c=25", "t3", ""]
                , [78, -72, 6, 0, "d=34751&c=44", "t3", ""]
                , [78, -71, 4, 0, "d=34550&c=4c", "t3", ""]
            ],
            [[79, -77, 3, 0, "d=35757&c=8b", "t1", ""]
                , [79, -76, 0, 6, "d=35556&c=ec", "o6", ""], [79, -75, 3, 0, "d=35355&c=33", "t7", ""]
                , [79, -74, 3, 0, "d=35154&c=9c", "t8", ""]
                , [79, -73, 9, 0, "d=34953&c=51", "t1", ""]
                , [79, -72, 3, 0, "d=34752&c=32", "t5", ""]
                , [79, -71, 10, 0, "d=34551&c=f0", "t1", ""]
            ],
            [[80, -77, 2, 0, "d=35758&c=6d", "t4", ""]
                , [80, -76, 2, 0, "d=35557&c=f8", "t2", ""]
                , [80, -75, 4, 0, "d=35356&c=61", "t8", ""]
                , [80, -74, 9, 0, "d=35155&c=ee", "t3", ""]
                , [80, -73, 2, 0, "d=34954&c=fb", "t5", ""]
                , [80, -72, 11, 0, "d=34753&c=a7", "t0", ""]
                , [80, -71, 10, 0, "d=34552&c=ac", "t1", ""]
            ],
            [[81, -77, 3, 0, "d=35759&c=6e", "t5", ""]
                , [81, -76, 3, 0, "d=35558&c=72", "t8", ""]
                , [81, -75, 3, 0, "d=35357&c=f4", "t3", ""]
                , [81, -74, 2, 0, "d=35156&c=89", "t0", ""]
                , [81, -73, 2, 0, "d=34955&c=79", "t1", ""]
                , [81, -72, 10, 0, "d=34754&c=ab", "t4", ""]
                , [81, -71, 7, 0, "d=34553&c=c7", "t3", ""]
            ]
        ];
        m_c.z = {"x":{{ .Coordinate.X}}, "y":{{ .Coordinate.Y}}};
        m_c.size = 7;
        m_c.world_max = 100;
        var mdim = {"x": 7, "y": 7, "rad": 3}
        var mmode = 0;

        function init_local() {
            map_init();
        }
    </script>
    <a id="map_makelarge" href="#" onclick="PopupMap(35153);"><img class="ml" src="/assets/img/x.gif" alt="large map"
                                                                   title="Large Map"></a> <img id="map_navibox"
                                                                                               src="/assets/img/x.gif"
                                                                                               usemap="#map_navibox">
    <map name="map_navibox">
        <area id="ma_n1p7" href="karte.php?z={{ .Coordinate.North 7}}" coords="51,15,73,3,95,15,73,27" shape="poly"
              title="North">
        <area id="ma_n2p7" href="karte.php?z={{ .Coordinate.East 7}}" coords="51,41,73,29,95,41,73,53" shape="poly"
              title="East">
        <area id="ma_n3p7" href="karte.php?z={{ .Coordinate.South 7}}" coords="4,41,26,29,48,41,26,53" shape="poly"
              title="South">
        <area id="ma_n4p7" href="karte.php?z={{ .Coordinate.West 7}}" coords="4,15,26,3,48,15,26,27" shape="poly"
              title="West">
    </map>
    {{/*    <map name="map_navibox">*/}}
    {{/*        <area id="ma_n1p7" href="karte.php?z=33746" coords="51,15,73,3,95,15,73,27" shape="poly" title="North">*/}}
    {{/*        <area id="ma_n2p7" href="karte.php?z=35146" coords="51,41,73,29,95,41,73,53" shape="poly" title="East">*/}}
    {{/*        <area id="ma_n3p7" href="karte.php?z=36560" coords="4,41,26,29,48,41,26,53" shape="poly" title="South">*/}}
    {{/*        <area id="ma_n4p7" href="karte.php?z=35160" coords="4,15,26,3,48,15,26,27" shape="poly" title="West">*/}}
    {{/*    </map>*/}}
    <div id="map_coords">
        <form name="map_coords" method="post" action="karte.php">
            <span>x </span><input id="mcx" class="text" name="xp" value="78" maxlength="4">
            <span>y </span><input id="mcy" class="text" name="yp" value="-74" maxlength="4">
            <input type="image" id="btn_ok" class="dynamic_img" value="ok" name="s1" src="/assets/img/x.gif"
                   alt="OK"><br><br>
        </form>
    </div>
    <table cellpadding="1" cellspacing="1" id="map_infobox" class="default">
        <thead>
        <tr>
            <th colspan="2">Details</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th>Player</th>
            <td>-</td>
        </tr>
        <tr>
            <th>Population</th>
            <td>-</td>
        </tr>
        <tr>
            <th>Alliance</th>
            <td>-</td>
        </tr>
        </tbody>
    </table>
</div>